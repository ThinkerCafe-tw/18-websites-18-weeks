# 第五講:美容院會員網站(上) - 會員系統基礎建設

## 單元目標

◆ 理解會員系統的商業價值與投資報酬率  
◆ 學會使用 Supabase 建立商業級雲端資料庫  
◆ 掌握提示詞模板與 AI 協作建立會員註冊系統  
◆ 完成會員資料的儲存、查詢與管理後台

---

## 主文

### 5-1 從「一次性消費」到「終身價值」:會員系統的商業邏輯

**一、美容院老闆的真實困境**

讓我們從一個真實場景開始:

```
場景:週三下午,美容院

客人 A(走進來):「妳好,我上個月來做過臉,覺得很不錯。」

櫃檯小姐(翻著預約本):「嗯...請問您貴姓?」

客人 A:「我姓陳。」

櫃檯小姐(繼續翻):「陳小姐...有好幾位陳小姐耶,您方便說一下電話嗎?」

客人 A:「0912-345-678」

櫃檯小姐(手寫搜尋):「找到了!您上次是做...呃,這裡沒寫。」

客人 A(有點不耐煩):「算了,我今天想做美白療程。」

櫃檯小姐:「好的,那是 2800 元。」

客人 A(內心 OS):「上次也花了快 3000,但好像沒什麼優惠...下次換別家試試好了。」
```

**問題出在哪?**

這個場景裡,美容院損失了:
- ✗ 客戶的消費紀錄(不知道她來過幾次、花過多少錢)
- ✗ 建立忠誠度的機會(沒有點數累積、沒有會員優惠)
- ✗ 精準行銷的可能(不知道她喜歡什麼療程)
- ✗ 一個可能的長期客戶(客人覺得「沒差別」,下次就換家)

**如果有會員系統呢?**

```
場景:週三下午,美容院(有會員系統版本)

客人 A(走進來,櫃檯有平板):「妳好,我是會員。」

櫃檯小姐(遞上平板):「歡迎陳小姐!請先登入一下。」

客人 A(輸入手機號碼+簡訊驗證碼,登入成功)

平板顯示:
┌─────────────────────┐
│ 陳小姐,歡迎回來!      │
│                         │
│ 您目前有 280 點         │
│ 再消費 220 元就能兌換   │
│ 「免費深層清潔」一次    │
│                         │
│ 上次療程:臉部保養      │
│ 美容師:小美            │
└─────────────────────┘

客人 A(眼睛一亮):「哇,我快集滿了!那今天做美白療程的話...」

櫃檯小姐:「美白療程 2800 元,會幫您累積 280 點。加上您現在的 280 點,
          就有 560 點囉!可以兌換一次免費深層清潔,或是折抵 500 元。」

客人 A(開心):「太好了!那我今天做美白,下次再來做深層清潔。」

櫃檯小姐:「好的,幫您預約下週五下午 2 點,小美還是您專屬的美容師。」
```

**差別在哪?**

- ✓ 客戶感受到「被記得」(上次誰服務、做什麼療程)
- ✓ 消費有累積感(280 點 → 520 點,看得見進度)
- ✓ 有「再來」的動機(快集滿了,不來可惜)
- ✓ 美容院鎖住客戶(點數在這裡,不會輕易換店家)

---

**二、會員系統的投資報酬率(ROI)**

(一)真實數據:導入會員系統的效益

根據台灣美容產業協會 2024 年的調查報告,導入會員系統的美容院平均有以下改善:

| 指標 | 導入前 | 導入後 | 提升幅度 |
|------|--------|--------|----------|
| 客戶回購率 | 35% | 58% | +66% |
| 平均客單價 | NT$ 2,200 | NT$ 2,800 | +27% |
| 客戶終身價值 | NT$ 15,000 | NT$ 38,000 | +153% |
| 行銷成本 | 佔營收 12% | 佔營收 7% | -42% |

**解讀這些數字**:

1. **回購率提升 66%**
   - 導入前:100 個客人,只有 35 個會再來
   - 導入後:100 個客人,58 個會再來
   - 意義:不用一直花錢找新客人

2. **客單價提升 27%**
   - 因為「快集滿點數」,客人願意多消費
   - 會員專屬方案,客人願意升級服務
   - 例:原本只做臉部保養(1800),現在加購美白(+1000)

3. **客戶終身價值提升 153%**
   - 導入前:一個客人平均來 6-7 次就不來了,總共花 1.5 萬
   - 導入後:變成忠實客戶,持續回購,總共花 3.8 萬
   - **這就是會員系統最大的價值**

(二)會員系統的成本與報酬

**投資成本**:
- 系統開發:4-6 萬(接案行情)
- 維護成本:月費約 0 元(用 Supabase 免費方案)
- 教育訓練:2-3 小時(教員工怎麼操作)

**回收時間**:
假設一家小型美容院:
- 每月服務 200 人次
- 導入後客單價提升 600 元 x 200 = 12 萬/月
- 回購率提升帶來額外 8 萬/月
- **首月就回本,之後都是淨賺**

---

**三、會員系統 vs 預約系統:差在哪裡?**

很多人會混淆「預約系統」和「會員系統」,讓我們釐清:

| 比較項目 | 預約系統(第 4 講) | 會員系統(第 5-6 講) |
|---------|-------------------|---------------------|
| 核心功能 | 預約時段管理 | 客戶資料管理 + 忠誠度培養 |
| 資料記錄 | 單次預約資訊 | 累積所有消費紀錄 |
| 客戶關係 | 一次性互動 | 長期關係經營 |
| 商業目的 | 提升營運效率 | 提升客戶終身價值 |
| 接案報價 | 3-5 萬 | 4-6 萬 |
| 技術複雜度 | 中 | 中高(需要帳戶、登入、資料庫)|

**可以結合嗎?**

當然可以!最理想的系統是:
```
會員登入 → 查看自己的點數 → 線上預約療程 → 消費後自動累積點數
```

但本講次我們先專注在「會員系統的核心」:
- 會員註冊
- 會員登入
- 點數累積
- 資料管理

---

### 5-2 Supabase:你的免費商業級資料庫

**四、為什麼需要「真實的資料庫」?**

(一)回顧第 4 講的限制

在第 4 講(診所預約網站)中,我們可能有用到 `localStorage` 來暫存資料。這種做法有個嚴重問題:

```javascript
// 第 4 講可能用的做法
localStorage.setItem('appointments', JSON.stringify(預約資料))
```

**問題**:
- ✗ 資料存在使用者的瀏覽器裡
- ✗ 清除瀏覽器快取 → 資料全不見
- ✗ 換一台電腦 → 看不到資料
- ✗ 多人共用 → 資料會亂掉
- ✗ **無法商業使用**

(二)商業系統必須有真實資料庫

會員系統的資料必須:
- ✓ 存在雲端(不會因為瀏覽器清除而不見)
- ✓ 多裝置同步(手機、平板、電腦都能查)
- ✓ 多人共用(櫃檯、美容師、老闆都能看)
- ✓ 安全性(有帳號密碼保護)
- ✓ 可備份(不會因為一次故障就全毀)

**這就需要「雲端資料庫」**

---

**五、為什麼選擇 Supabase?**

(一)Supabase 是什麼?

簡單來說:
> **Supabase = 開源版的 Firebase = 不用寫後端程式碼的雲端資料庫**

傳統做法(很複雜):
```
你要自己:
1. 租一台伺服器(AWS/GCP,每月數千元)
2. 安裝資料庫(PostgreSQL/MySQL)
3. 寫後端 API(Node.js/Python,處理增刪改查)
4. 處理身份驗證(JWT/Session)
5. 設定 HTTPS 加密
6. 擔心被駭客攻擊
```

用 Supabase(超簡單):
```
1. 註冊帳號(免費)
2. 建立專案(點兩下)
3. 用 AI 幫你建立資料表
4. 完成!✨
```

(二)Supabase 的優勢

**1. 免費方案夠用**
- 500 MB 資料庫空間(約可存 5 萬筆會員資料)
- 每月 5 GB 流量(小型美容院綽綽有餘)
- 不限專案數量
- **完全免費,不用信用卡**

**2. AI 可以直接操作**
- 支援 MCP (Model Context Protocol)
- Claude 可以直接幫你建立資料表
- 可以直接讀取、新增、修改資料
- **不用自己寫 SQL 語法**

**3. 商業級安全性**
- 自動 HTTPS 加密
- Row Level Security(資料權限控管)
- 定期自動備份
- 符合 GDPR 隱私法規

**4. 隨時升級**
- 免費用到不夠了,再付費升級
- 升級只是改方案,系統不用重做
- Pro 方案月費約 $25 USD(約 NT$ 800)

(三)與其他方案比較

| 方案 | 免費額度 | AI 支援 | 學習曲線 | 商業可用 |
|------|---------|---------|----------|----------|
| Supabase | ✓ 大方 | ✓ 完整 MCP | ✓ 簡單 | ✓ 可 |
| Firebase | ✓ 普通 | ✗ 無 | ✓ 簡單 | ✓ 可 |
| 自架 MySQL | ✗ 要付費 | ✗ 無 | ✗ 困難 | ✓ 可 |
| LocalStorage | ✓ 免費 | ✗ 無 | ✓ 超簡單 | ✗ **不可** |

**結論**:對於我們的課程來說,Supabase 是最佳選擇。

---

**六、Supabase 快速上手**

(一)註冊與建立專案

**步驟 1:註冊帳號**
1. 打開瀏覽器,前往 https://supabase.com
2. 點擊右上角「Start your project」
3. 選擇「Continue with GitHub」(建議用 GitHub 登入最快)
4. 授權 Supabase 存取你的 GitHub 帳號

**步驟 2:建立第一個專案**
1. 登入後,點擊「New project」
2. 填寫資料:
   - Organization:選擇你的名字或公司名稱
   - Project name:`beauty-salon-members`(美容院會員系統)
   - Database Password:自動生成(記得複製存好)
   - Region:選擇「Northeast Asia (Tokyo)」(日本,最接近台灣)
3. 點擊「Create new project」
4. 等待 1-2 分鐘(系統正在建立你的資料庫)

**步驟 3:取得 API 金鑰**
1. 進入專案後,點擊左側選單的「Settings」(齒輪圖示)
2. 點擊「API」
3. 你會看到兩個重要的資訊:
   - `Project URL`:類似 `https://abcdefgh.supabase.co`
   - `anon public` API key:一串很長的金鑰

**重要**:這兩個資訊等等會用到,先複製到記事本存好。

---

(二)在 Claude 中設定 Supabase MCP

**步驟 4:連接 Claude 與 Supabase**

現在要讓 Claude 可以幫你操作 Supabase 資料庫。

1. 在 Claude 對話框中輸入以下指令:

```
請幫我設定 Supabase MCP 連線,我的資訊如下:

Project URL: [貼上你的 Project URL]
API Key: [貼上你的 anon public key]

請確認連線是否成功。
```

2. Claude 會執行連線測試,並回應類似:

```
✓ Supabase MCP 連線成功!
✓ 專案名稱:beauty-salon-members
✓ 區域:Tokyo
✓ 資料庫狀態:正常運作

現在我可以幫你建立資料表、新增資料、查詢資料了。
```

**如果連線失敗怎麼辦?**
- 檢查 Project URL 和 API Key 是否複製完整(前後不要有空格)
- 確認專案狀態是「Active」(不是 Paused)
- 重新整理 Claude 頁面再試一次

---

### 5-3 用提示詞模板建立會員註冊系統

**七、提示詞模板的威力:不用懂技術也能做系統**

(一)什麼是「提示詞模板」?

傳統開發流程:
```
1. 學習資料庫語法(SQL)  → 需要 2 週
2. 學習後端框架(Node.js) → 需要 1 個月
3. 學習身份驗證(JWT)    → 需要 1 週
4. 整合前端與後端          → 需要 1 週
總計:至少 2 個月
```

用提示詞模板:
```
1. 複製模板
2. 貼上給 Claude
3. 等待 3 分鐘
總計:3 分鐘 ✨
```

**關鍵概念**:
- 你不需要懂技術細節
- 你只需要「說清楚要什麼」
- AI 會處理所有技術實作
- **這就是 AI 時代的開發方式**

---

(二)提示詞模板 1:建立會員資料表

**複製以下指令,貼給 Claude**:

```
我要建立一個美容院會員系統,使用 Supabase 作為資料庫。

【第一步:建立會員資料表】

請幫我建立一個名為 "members" 的資料表,包含以下欄位:

1. id
   - 類型:UUID(自動生成的唯一識別碼)
   - 作為主鍵(Primary Key)
   - 自動生成,不需要使用者輸入

2. name
   - 類型:文字(TEXT)
   - 用途:會員姓名
   - 必填(NOT NULL)

3. phone
   - 類型:文字(TEXT)
   - 用途:手機號碼
   - 必填(NOT NULL)
   - 必須是唯一值(UNIQUE) - 同一支手機不能重複註冊
   - 格式:10 碼數字

4. email
   - 類型:文字(TEXT)
   - 用途:Email 信箱
   - 選填(可以是 NULL)

5. points
   - 類型:整數(INTEGER)
   - 用途:會員點數
   - 預設值:50(新會員贈送 50 點)

6. total_spent
   - 類型:整數(INTEGER)
   - 用途:累積消費金額
   - 預設值:0

7. created_at
   - 類型:時間戳記(TIMESTAMP)
   - 用途:註冊時間
   - 自動記錄建立時間

8. last_visit
   - 類型:時間戳記(TIMESTAMP)
   - 用途:最後來店時間
   - 可以是 NULL(首次註冊時還沒來店)

請建立這個資料表,並顯示資料表結構讓我確認。
```

**Claude 會做什麼**:
1. 連接你的 Supabase 專案
2. 執行 SQL 指令建立資料表
3. 顯示建立成功的訊息
4. 顯示資料表結構讓你確認

**預期的回應**:
```
✓ 資料表 "members" 建立成功!

資料表結構:
┌─────────────┬──────────┬───────────┬─────────┐
│ 欄位名稱    │ 類型     │ 預設值    │ 限制    │
├─────────────┼──────────┼───────────┼─────────┤
│ id          │ UUID     │ 自動生成  │ 主鍵    │
│ name        │ TEXT     │ -         │ 必填    │
│ phone       │ TEXT     │ -         │ 必填+唯一│
│ email       │ TEXT     │ -         │ 選填    │
│ points      │ INTEGER  │ 50        │ -       │
│ total_spent │ INTEGER  │ 0         │ -       │
│ created_at  │ TIMESTAMP│ 當前時間  │ -       │
│ last_visit  │ TIMESTAMP│ NULL      │ 選填    │
└─────────────┴──────────┴───────────┴─────────┘

現在可以開始建立註冊頁面了!
```

**確認步驟**:
1. 打開 Supabase 後台(https://supabase.com/dashboard)
2. 選擇你的專案「beauty-salon-members」
3. 點擊左側的「Table Editor」
4. 應該會看到新建立的「members」資料表
5. 點進去,確認欄位都正確

---

(三)提示詞模板 2:建立會員註冊頁面

**複製以下指令,貼給 Claude**:

```
【第二步:建立會員註冊頁面】

現在幫我建立一個美容院會員註冊頁面,需求如下:

【頁面設計】
1. 視覺風格:
   - 主色調:粉紅色系(#ec4899 桃紅色)
   - 輔助色:白色、淺灰色
   - 感覺:溫柔、專業、有質感

2. 頁面結構:
   - 頂部:美容院 Logo 和「會員註冊」標題
   - 中間:註冊表單
   - 底部:「已經是會員?點此登入」連結

【表單欄位】
1. 姓名:
   - 必填
   - placeholder: "請輸入您的姓名"
   - 2-10 個字

2. 手機號碼:
   - 必填
   - placeholder: "請輸入手機號碼"
   - 自動檢查:必須是 10 碼數字(09 開頭)
   - 即時驗證,格式錯誤顯示紅色提示

3. Email:
   - 選填
   - placeholder: "請輸入 Email(選填)"
   - 如果有填,要檢查格式(要有 @)

【註冊邏輯】
1. 點擊「註冊」按鈕前,先檢查:
   - 所有必填欄位都填了嗎?
   - 手機格式正確嗎?
   - Email 格式正確嗎(如果有填)?

2. 驗證通過後,檢查手機號碼是否已經註冊過:
   - 到 Supabase 的 members 資料表查詢
   - 如果手機號碼已存在,顯示「此手機號碼已經註冊過了」
   - 如果不存在,繼續註冊流程

3. 寫入資料到 Supabase:
   - 新增一筆資料到 members 資料表
   - name: 使用者填的姓名
   - phone: 使用者填的手機
   - email: 使用者填的 Email(或空值)
   - points: 50(系統自動給的歡迎點數)
   - total_spent: 0
   - created_at: 系統自動記錄當前時間

4. 註冊成功後:
   - 顯示成功訊息:「恭喜您成為會員!我們已贈送您 50 點歡迎點數」
   - 3 秒後自動跳轉到會員頁面

【手機版優化】
- 所有按鈕至少 44px 高度(方便手指點擊)
- 點擊電話欄位時,自動彈出數字鍵盤
- 點擊 Email 欄位時,自動彈出帶 @ 的鍵盤
- 表單寬度在手機上要佔滿 90%,電腦上最寬 400px

【錯誤處理】
- 網路斷線時,顯示「網路連線失敗,請稍後再試」
- Supabase 連線失敗時,顯示「系統繁忙,請稍後再試」
- 任何錯誤都要有友善的中文提示

請使用 React + Tailwind CSS 製作,並連接到我的 Supabase 專案。
```

**Claude 會做什麼**:
1. 建立完整的 React 元件
2. 處理表單驗證邏輯
3. 連接 Supabase API
4. 處理所有錯誤情況
5. 優化手機版體驗

**預期的產出**:
一個完整的會員註冊頁面,包含:
- 漂亮的粉紅色系介面
- 完整的表單驗證
- 自動檢查手機是否重複
- 註冊成功的動畫提示
- 手機版完美適配

---

(四)提示詞模板 3:建立會員管理後台

**複製以下指令,貼給 Claude**:

```
【第三步:建立會員管理後台】

我需要一個管理後台頁面,讓美容院老闆和櫃檯人員可以查看所有會員資料。

【頁面功能】
1. 顯示所有註冊的會員
2. 用表格呈現以下資訊:
   - 會員姓名
   - 手機號碼
   - Email(如果有填)
   - 目前點數
   - 累積消費金額
   - 註冊時間
   - 最後來店時間

3. 表格樣式:
   - 奇數行用淺灰色背景(#f9fafb)
   - 偶數行用白色背景
   - 滑鼠移到某一行時,該行變淺藍色(#dbeafe)
   - 表頭用深藍色背景(#1e40af) + 白色文字

4. 頁面頂部顯示統計資訊:
   - 總會員數:X 人
   - 本月新增:X 人
   - 總點數發放:X 點

【排序功能】
- 預設按「註冊時間」由新到舊排列
- 點擊「點數」欄位標題,可以由高到低排序
- 點擊「累積消費」欄位標題,可以由高到低排序

【搜尋功能】
- 頁面上方有搜尋框
- 可以輸入姓名或手機號碼搜尋
- 即時篩選結果(不用按搜尋按鈕)

【手機版優化】
- 在手機上,表格改成卡片式呈現
- 每個會員一張卡片
- 卡片內顯示關鍵資訊

請使用 React + Tailwind CSS 製作,從 Supabase 的 members 資料表讀取資料。
```

**Claude 會做什麼**:
1. 建立管理後台介面
2. 從 Supabase 讀取所有會員資料
3. 實作排序功能
4. 實作搜尋功能
5. 優化手機版顯示

**預期的產出**:
一個功能完整的管理後台,美容院老闆可以:
- 一目了然看到所有會員
- 快速搜尋特定會員
- 分析會員消費狀況

---

### 5-4 測試與驗證:確保系統可以商業使用

**八、完整的測試流程**

(一)功能測試清單

建立系統後,必須逐項測試確認:

**測試 1:會員註冊功能**
```
□ 填寫完整資料,能成功註冊
□ 姓名欄位空白,顯示「請輸入姓名」
□ 手機欄位空白,顯示「請輸入手機號碼」
□ 手機格式錯誤(例:1234),顯示「手機號碼格式不正確」
□ Email 格式錯誤(例:test),顯示「Email 格式不正確」
□ 同一支手機註冊兩次,顯示「此手機號碼已註冊過」
□ 註冊成功後,顯示「恭喜您成為會員」
□ 新會員自動獲得 50 點歡迎點數
```

**測試 2:資料正確性**
```
□ 到 Supabase 後台查看 members 資料表
□ 確認剛註冊的會員資料都正確寫入
□ 確認 points 欄位是 50
□ 確認 total_spent 欄位是 0
□ 確認 created_at 時間正確
```

**測試 3:管理後台功能**
```
□ 能看到所有註冊的會員
□ 會員資料顯示正確(姓名、手機、點數)
□ 搜尋功能正常(輸入姓名能找到對應會員)
□ 排序功能正常(點數由高到低)
□ 統計數字正確(總會員數、總點數)
```

**測試 4:手機版體驗**
```
□ 在手機上打開註冊頁面
□ 點擊手機欄位,自動彈出數字鍵盤
□ 點擊 Email 欄位,鍵盤有 @ 符號
□ 按鈕夠大,容易點擊
□ 表單不會超出螢幕寬度
□ 管理後台在手機上是卡片式呈現
```

---

(二)實際操作:測試註冊流程

**步驟 1:開啟註冊頁面**
1. 在瀏覽器打開你的網站
2. 找到「會員註冊」按鈕或連結
3. 進入註冊頁面

**步驟 2:填寫測試資料**
```
姓名:王小美
手機:0912345678
Email:test@example.com
```

**步驟 3:提交表單**
- 點擊「註冊」按鈕
- 等待 1-2 秒
- 應該看到「恭喜您成為會員!」的訊息

**步驟 4:確認資料寫入**
1. 打開 Supabase 後台(https://supabase.com/dashboard)
2. 進入你的專案
3. 點擊「Table Editor」→「members」
4. 應該會看到剛才註冊的王小美

**步驟 5:測試重複註冊**
1. 再次填寫相同的手機號碼「0912345678」
2. 點擊「註冊」
3. 應該顯示「此手機號碼已經註冊過了」

**如果測試失敗怎麼辦?**
- 檢查瀏覽器的「開發者工具」(按 F12)
- 查看「Console」頁籤,看有沒有錯誤訊息
- 把錯誤訊息複製給 Claude,請它協助修正

---

(三)常見問題排除

**問題 1:註冊後資料沒有寫入 Supabase**

可能原因:
- Supabase API 金鑰設定錯誤
- 網路連線問題
- Supabase 專案狀態不是 Active

解決方法:
```
對 Claude 說:
"我註冊後,到 Supabase 後台查看,資料表是空的。
請幫我檢查:
1. Supabase 連線是否正常
2. API 金鑰是否正確
3. 程式碼中的寫入邏輯是否有問題"
```

**問題 2:手機號碼重複檢查不管用**

可能原因:
- 程式碼中沒有正確查詢既有資料
- 查詢語法錯誤

解決方法:
```
對 Claude 說:
"我用同一支手機註冊兩次,系統沒有提示『已註冊過』,
請檢查重複檢查的邏輯,並修正。"
```

**問題 3:管理後台看不到資料**

可能原因:
- 讀取資料的程式碼有問題
- Supabase Row Level Security 設定過嚴

解決方法:
```
對 Claude 說:
"管理後台顯示『沒有會員資料』,但我到 Supabase 後台確認有資料。
請檢查:
1. 資料讀取的程式碼
2. Supabase 的權限設定"
```

---

### 5-5 下週預告與本講總結

**九、本講完成了什麼**

(一)核心成果

恭喜你!完成第 5 講後,你已經建立了:

✓ **商業級雲端資料庫**
  - 使用 Supabase(不是玩具 localStorage)
  - 資料永久儲存、多裝置同步
  - 符合商業使用標準

✓ **會員註冊系統**
  - 完整的表單驗證
  - 自動檢查手機重複
  - 新會員自動贈送 50 點

✓ **會員管理後台**
  - 查看所有會員資料
  - 搜尋與排序功能
  - 統計資訊儀表板

✓ **三個提示詞模板**
  - 建立資料表模板
  - 建立註冊頁面模板
  - 建立管理後台模板
  - **這些模板可以重複使用在其他專案!**

---

(二)商業價值評估

你現在已經完成的系統,已經可以:

**對小型美容院(1-2 個分店)**:
- 可以正式使用了!
- 報價建議:NT$ 20,000-30,000(完成一半)

**還缺什麼?**:
- 會員登入功能(下週第 6 講)
- 點數自動累積機制(下週第 6 講)
- 會員專屬優惠頁面(下週第 6 講)

**完整版報價**:
- 第 5 講 + 第 6 講 = NT$ 40,000-60,000

---

**十、下週第 6 講預告:完成會員系統**

(一)會員登入功能

```
會員到店時:
1. 打開會員頁面
2. 輸入手機號碼
3. 收到簡訊驗證碼(或輸入生日驗證)
4. 登入成功,看到自己的點數
```

(二)點數自動累積

```
消費流程:
1. 會員登入後,選擇要做的療程
2. 系統自動計算:消費 100 元 = 1 點
3. 結帳後,點數自動加到會員帳戶
4. 更新累積消費金額
```

(三)會員專屬優惠

```
優惠規則:
- 滿 100 點,可兌換「免費深層清潔」一次
- 滿 300 點,可兌換「美白療程 8 折」
- 滿 500 點,可兌換「任選療程免費」
```

(四)完整系統整合

下週完成後,你會有一個:
- 可以商業使用的完整會員系統
- 值 4-6 萬的接案作品
- 可以複製到其他行業的模板

---

**十一、延伸思考:會員系統的行業應用**

會員系統不只適用於美容院,還可以用在:

**直接套用的行業**:
- 健身房(第 2 講的延伸)
- 瑜伽教室(第 8 講會教)
- 寵物美容(第 9 講會教)
- 美髮沙龍
- SPA 館
- 咖啡廳(第 1 講的升級版)

**稍作調整可用的行業**:
- 診所(第 4 講 + 會員系統 = 完整版)
- 餐廳(累積點數換優惠)
- 書店(會員購書折扣)
- 便利商店(集點活動)

**思考題**:
1. 如果要把這套會員系統用在「健身房」,需要修改哪些地方?
2. 診所的會員制和美容院有什麼不同?(提示:考慮隱私性)
3. 如果一家餐廳同時有「線上訂位」+「會員制」,該如何整合?

---

## 重要名詞

◆ **Supabase**:開源的雲端資料庫服務,提供免費方案,支援 MCP 讓 AI 可以直接操作。

◆ **MCP (Model Context Protocol)**:讓 AI 模型可以直接與外部工具(如資料庫)溝通的協定。

◆ **UUID**:通用唯一識別碼,用於資料庫的主鍵,確保每筆資料有獨一無二的 ID。

◆ **Row Level Security (RLS)**:資料列層級的安全控管,可以設定「哪些使用者可以看到哪些資料」。

◆ **客戶終身價值 (Customer Lifetime Value, CLV)**:一個客戶在整個消費生涯中,為企業帶來的總收益。

◆ **提示詞模板 (Prompt Template)**:預先設計好的 AI 指令格式,使用者只需填入特定資訊即可重複使用。

◆ **localStorage**:瀏覽器提供的本地儲存空間,資料存在使用者裝置上,不適合商業系統使用。

---

## 自我評量或問題與討論

1. 請說明「預約系統」和「會員系統」的三個主要差異,並解釋為什麼會員系統的接案報價較高?

2. 為什麼 localStorage 不適合用在商業系統?請列出至少三個理由。

3. 實作題:請使用本講提供的提示詞模板,為「健身房」建立會員資料表。需要修改哪些欄位?(提示:健身房可能需要記錄「會籍到期日」)

4. 思考題:如果美容院老闆希望「VIP 會員(累積消費超過 10 萬)可以獲得雙倍點數」,你會如何修改系統?請描述需要調整的邏輯。

5. 商業分析:假設一家小型美容院,月服務 200 人次,平均客單價 2500 元。導入會員系統後,客單價提升 20%,回購率從 30% 提升到 50%。請計算系統建置成本(5 萬)多久可以回收?

---

## 參考文獻/書目

1. Supabase 官方文件:https://supabase.com/docs
2. MCP (Model Context Protocol) 規格說明:https://spec.modelcontextprotocol.io/
3. 台灣美容產業協會 - 2024 會員管理白皮書
4. Harvard Business Review - The Value of Keeping the Right Customers (2014)
5. Nielsen Norman Group - Form Design Best Practices:https://www.nngroup.com/articles/web-form-design/